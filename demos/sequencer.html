<!DOCTYPE html>
<html>
<head>
<title>MIDITools Demos - Sequencer</title>

<script src="../lib/MIDI.js/MIDI.js"></script>
<script src="../lib/MIDI.js/inc/jasmid/stream.js"></script>
<script src="../lib/MIDI.js/inc/jasmid/midifile.js"></script>
<script src="../lib/MIDI.js/inc/jasmid/replayer.js"></script>
<script src="../lib/MIDI.js/inc/base64binary.js"></script>

<script src="../dist/midiclassjs.js"></script>

<link rel="stylesheet" type="text/css" href="sequencer.css" />

</head>

<body>
  <div class="bar">
    <div class="status">
      <span class="label bar-label">Status:</span>
      <span class="status-value">ready</span>
    </div>
    <div class="demo-list">
      <button class="demo-list-button">Demos
        <span class="arrow"></span>
      </button>
      <ul role="menu" class="demo-list-items">
        <li class="demo-list-item">Sequencer</li>
        <li class="demo-list-item">Import Tools</li>
        <li class="demo-list-item">Export Tools</li>
        <li class="demo-list-item">Analysis Tools</li>
      </ul>
    </div>
  </div>
  <div class="sequencer">
    <div class="seq-header">
      <span class="label">Sequence Channels</span>
    </div>
  </div>
<script>
var button = document.getElementsByClassName('demo-list-button')[0];
button.addEventListener('click', function(evt) {
  var parent = evt.target.parentElement;
  var menu = parent.getElementsByClassName('demo-list-items')[0];
  menu.style.display = 'block';
  window.addEventListener('click', createHideListener(parent, menu), false);
  evt.preventDefault();
  evt.cancelBubble = true;
});

function createHideListener(enclosing, menu) {
  var hider = function hider(event) {
    if (event.currentTarget.parentElement !== enclosing) {
      menu.style.display = 'none';
    }
    window.removeEventListener(hider);
  }
  return hider;
}

</script>

</body>
</html>
